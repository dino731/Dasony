<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="alert">

	
	<resultMap id="alertResultSet" type="Alert">
		<id column="ALERT_NO" property="no" />
		<result column="USER_NO" property="user_no"/>
		<result column="ALERT_CONTENT" property="alertContent"/>
		<result column="ALERT_DATE" property="alertDate"/>
		<result column="ALERT_CATE" property="alertCate"/>
		<result column="ALERT_STATUS" property="alertStatus"/>
		<result column="ALERT_TITLE" property="alertTitle"/>
	</resultMap>
	
	
	<insert id="insertPointAlert" parameterType="alert">
	
	INSERT INTO ALERT VALUES(
		SEQ_ANO.NEXTVAL,
		#{userNo},
		'게임 성공으로 얻은 포인트는 : ' || TO_CHAR(#{pointAmount}) || '다소니 입니다.',
		TO_CHAR(SYSDATE, 'MM-DD HH24:MI'),
		'P',
		'B',
		'보물찾기 리워드를 확인하세요~'
	)
	
	</insert>
	
	<insert id="insertTicketAlert" parameterType="alert">
	
	INSERT INTO ALERT VALUES(
		SEQ_ANO.NEXTVAL,
		#{userNo},
		'게임 성공으로 얻은 응모권입니다. 이벤트 페이지에서 사용하실 수 있습니다.  ',
		TO_CHAR(SYSDATE, 'MM-DD HH24:MI'),
		'T',
		'B',
		'보물찾기 리워드를 확인하세요~'
	)
	
	</insert>
	
	<select id="getAlertList" resultMap="alertResultSet">
	
		SELECT * 
		FROM ALERT
		WHERE USER_NO = #{userNo}
	
	</select>	
	
	
</mapper>